<dom-module id='console-input-element'>

	<template>
		<style>
		:host div {
			position: absolute;
			left: 0;
			bottom: 0;
			width: 70%;
			height: 30px;
			background-color: #EAEAEA;
			color: white;
		}
		:host input {
			background-color: #EAEAEA;
			border: 0;
			margin: 0;
		}

		</style>
		<div>
			<label>Type command : </label><input value='{{cmdValue::input}}' on-keydown='sendByEnter'>
		</div>

	</template>

	<script>

		Polymer({
			is: 'console-input-element',

			sendTap: function(e){
				this.sendCmd(this.cmdValue);
			},
			sendByEnter: function (e) {
				if (e.keyCode === 13) {
					this.sendCmd(this.cmdValue);
				}
			},
			sendCmd: function(cmdValue) {
				//TODO: need to mock Service.
				console.log('I GOT the '+cmdValue);

				document.querySelector('console-output-element').fire('fire', {result: cmdValue});
				this.cmdValue = '';
				window.scrollTo(0,document.body.scrollHeight);
			},
			properties: {
				cmdValue: String,
			}

		});
	</script>

</dom-module>
